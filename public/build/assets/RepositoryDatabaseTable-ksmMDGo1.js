import{r as t,j as e,y as N}from"./app-LEKQh0La.js";import{D as o}from"./Dropdown-mHODfxua.js";import{P as v}from"./Pagination-xB7_pUKt.js";import{M as y,D as b,S as w}from"./SecondaryButton-JYc4VxTO.js";import{T as d}from"./TrashIcon-vUmJuf7j.js";import"./transition-ZMstbjJ0.js";function z({title:l,titleId:r,...n},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},n),l?t.createElement("title",{id:r},l):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const k=t.forwardRef(z),x=k;function D({title:l,titleId:r,...n},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},n),l?t.createElement("title",{id:r},l):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9.75 14.25 12m0 0 2.25 2.25M14.25 12l2.25-2.25M14.25 12 12 14.25m-2.58 4.92-6.374-6.375a1.125 1.125 0 0 1 0-1.59L9.42 4.83c.21-.211.497-.33.795-.33H19.5a2.25 2.25 0 0 1 2.25 2.25v10.5a2.25 2.25 0 0 1-2.25 2.25h-9.284c-.298 0-.585-.119-.795-.33Z"}))}const C=t.forwardRef(D),M=C;function V({repository:l,database_backups:r}){const[n,a]=t.useState([]),[c,h]=t.useState(null),[p,m]=t.useState(!1),u=s=>{h(s),m(!0)},i=()=>{m(!1)},j=()=>{let s=route("databases.destroy",c.id);N.delete(s,{preserveScroll:!0,onSuccess:()=>i()})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-10 border-4 border-zinc-900 divide-y rounded-lg divide-zinc-800 ",children:[n.length>0&&e.jsx("div",{className:"fixed right-10 bottom-40",children:e.jsx("div",{className:"hidden sm:flex sm:items-center sm:ms-6",children:e.jsx("div",{className:"ms-3 relative ",children:e.jsxs(o,{children:[e.jsx(o.Trigger,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"py-3 px-5 rounded-xl bg-zinc-900 text-white",children:n.length}),e.jsx("div",{className:"group inline-flex rounded-xl bg-sky-500 ",children:e.jsx("button",{type:"button",className:"px-6 py-3 rounded-md focus:outline-none",children:e.jsx("span",{className:"leading-4 font-medium text-white text-lg group-hover:text-sky-100 transition ease-in-out duration-150",children:"Vybráno"})})})]})}),e.jsxs(o.Content,{children:[e.jsxs(o.Link,{className:"border-l-4 border-transparent hover:border-red-500 hover:text-red-500",href:route("profile.edit"),children:[e.jsx("span",{className:"mr-2",children:e.jsx(d,{className:"w-6 h-6"})}),"Smazat"]}),e.jsxs(o.Link,{className:"border-l-4 border-transparent hover:border-green-500 hover:text-green-500",href:route("databases.bulk.download",{databases:n}),children:[e.jsx("span",{className:"mr-2",children:e.jsx(x,{className:"w-6 h-6"})}),"Stáhnout"]}),e.jsxs("button",{className:"border-l-4 border-transparent hover:border-blue-500 hover:text-blue-500 flex items-center w-full px-4 py-2 text-start text-sm leading-5 text-zinc-500 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out",href:route("profile.edit"),onClick:()=>a([]),children:[e.jsx("span",{className:"mr-2",children:e.jsx(M,{className:"w-6 h-6"})}),"Odznačit vše"]})]})]})})})}),e.jsxs("table",{className:"min-w-full divide-y divide-zinc-700 rounded-md overflow-hidden",children:[e.jsx("thead",{className:"bg-zinc-950",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left text-zinc-400",children:"Bulk actions"}),e.jsx("th",{scope:"col",className:"px-12 py-3.5 text-sm font-normal text-left text-zinc-400",children:"Název"}),e.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left text-zinc-400",children:"Velikost"}),e.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left text-zinc-400",children:"Cesta"}),e.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left text-zinc-400",children:"Vytvořeno"}),e.jsx("th",{scope:"col",className:"relative py-3.5 px-4",children:e.jsx("span",{className:"sr-only",children:"Edit"})})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-700 bg-zinc-900",children:r&&r.data.map(s=>e.jsxs("tr",{className:"group hover:bg-zinc-800",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("input",{type:"checkbox",className:"rounded-md",onChange:f=>{f.target.checked?a([...n,s.id]):a(n.filter(g=>g!==s.id))}})}),e.jsx("td",{className:"px-4 py-4 ",children:e.jsx("span",{className:"text-sm font-medium text-zinc-400",children:s.name})}),e.jsx("td",{className:"px-4 py-4 ",children:e.jsxs("span",{className:"text-sm font-medium text-zinc-400",children:[s.size," KB"]})}),e.jsx("td",{className:"px-4 py-4 ",children:e.jsxs("span",{className:"text-sm font-medium text-zinc-400",children:[s.path," KB"]})}),e.jsx("td",{className:"px-4 py-4 ",children:e.jsx("span",{className:"text-sm font-medium text-zinc-400",children:s.created_at_human})}),e.jsx("td",{className:"px-4 py-4 text-sm whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("a",{download:!0,href:"/storage/"+s.path+"/"+s.name,className:"bg-zinc-800 group-hover:bg-zinc-900 p-1 rounded-lg border border-transparent hover:border-green-500 faster-animation",children:e.jsx(x,{className:"w-6 h-6 text-green-500"})}),e.jsx("button",{className:"bg-zinc-800 group-hover:bg-zinc-900 p-1 rounded-lg border border-transparent hover:border-red-500 faster-animation",onClick:()=>u(s),children:e.jsx(d,{className:"w-6 h-6 text-red-500"})})]})})]},s.id))})]})]}),e.jsx(v,{links:r.meta}),e.jsx(y,{maxWidth:"md",show:p,onClose:i,className:"p-10",children:c&&e.jsxs("div",{className:"p-4 flex flex-col space-y-4",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-800 text-center",children:c.name}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Chystáš se smazat repozitář společně se všemi databázemi a klienty. Tato akce je nevratná."}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs(b,{type:"submit",onClick:j,children:[e.jsx(d,{className:"w-6 h-6 mr-2"}),c.name]}),e.jsx(w,{onClick:i,children:"Zavřít"})]})]})})]})}export{V as default};
