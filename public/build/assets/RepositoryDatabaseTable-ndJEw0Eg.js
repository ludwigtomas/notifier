import{r as t,j as e,y as h}from"./app-CjTzU-qI.js";import{D as d}from"./Dropdown-4sQ0wfJb.js";import{P as C}from"./Pagination-Tlm0l5Is.js";import{M as p,D as u,S as j}from"./SecondaryButton-T6D31DRV.js";import{T as i}from"./TrashIcon-406V1Jac.js";import"./transition-iAGVnNcq.js";function D({title:l,titleId:n,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),l?t.createElement("title",{id:n},l):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const S=t.forwardRef(D),f=S;function M({title:l,titleId:n,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),l?t.createElement("title",{id:n},l):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9.75 14.25 12m0 0 2.25 2.25M14.25 12l2.25-2.25M14.25 12 12 14.25m-2.58 4.92-6.374-6.375a1.125 1.125 0 0 1 0-1.59L9.42 4.83c.21-.211.497-.33.795-.33H19.5a2.25 2.25 0 0 1 2.25 2.25v10.5a2.25 2.25 0 0 1-2.25 2.25h-9.284c-.298 0-.585-.119-.795-.33Z"}))}const B=t.forwardRef(M),T=B;function F({repository:l,database_backups:n}){const[a,r]=t.useState([]),[c,g]=t.useState(null),[y,x]=t.useState(!1),[N,m]=t.useState(!1),b=s=>{g(s),x(!0)},o=()=>{x(!1),m(!1)},v=()=>{let s=route("databases.destroy",c.id);h.delete(s,{preserveScroll:!0,onSuccess:()=>o()})},w=()=>{let s=route("databases.bulk.destroy",{databases:a});h.delete(s,{preserveScroll:!0,onSuccess:()=>{o(),r([])}})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-10 border-4 border-zinc-900 divide-y rounded-lg divide-zinc-800 ",children:[a.length>0&&e.jsx("div",{className:"fixed right-10 bottom-40",children:e.jsx("div",{className:"hidden sm:flex sm:items-center sm:ms-6",children:e.jsx("div",{className:"ms-3 relative ",children:e.jsxs(d,{children:[e.jsx(d.Trigger,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"py-3 px-5 rounded-xl bg-zinc-900 text-white",children:a.length}),e.jsx("div",{className:"group inline-flex rounded-xl bg-sky-500 ",children:e.jsx("button",{type:"button",className:"px-6 py-3 rounded-md focus:outline-none",children:e.jsx("span",{className:"leading-4 font-medium text-white text-lg group-hover:text-sky-100 transition ease-in-out duration-150",children:"Vybráno"})})})]})}),e.jsxs(d.Content,{children:[e.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-start text-sm leading-5 text-zinc-400 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out hover:bg-zinc-800 border-l-4 border-transparent hover:border-red-500 hover:text-red-500",onClick:()=>m(!0),children:[e.jsx("span",{className:"mr-2",children:e.jsx(i,{className:"w-6 h-6"})}),"Smazat"]}),e.jsxs("a",{className:"flex items-center w-full px-4 py-2 text-start text-sm leading-5 text-zinc-400 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out hover:bg-zinc-800 border-l-4 border-transparent hover:border-green-500 hover:text-green-500",href:route("databases.bulk.download",{databases:a}),children:[e.jsx("span",{className:"mr-2 ",children:e.jsx(f,{className:"w-6 h-6"})}),"Stáhnout"]}),e.jsxs("button",{className:"border-l-4 border-transparent hover:border-blue-500 hover:text-blue-500 flex items-center w-full px-4 py-2 text-start text-sm leading-5 text-zinc-500 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out",href:route("profile.edit"),onClick:()=>r([]),children:[e.jsx("span",{className:"mr-2",children:e.jsx(T,{className:"w-6 h-6"})}),"Odznačit vše"]})]})]})})})}),e.jsxs("table",{className:"min-w-full divide-y divide-zinc-700 rounded-md overflow-hidden",children:[e.jsx("thead",{className:"bg-zinc-950",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left text-zinc-400",children:"Bulk actions"}),e.jsx("th",{scope:"col",className:"px-12 py-3.5 text-sm font-normal text-left text-zinc-400",children:"Název"}),e.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left text-zinc-400",children:"Velikost"}),e.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left text-zinc-400",children:"Cesta"}),e.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left text-zinc-400",children:"Vytvořeno"}),e.jsx("th",{scope:"col",className:"relative py-3.5 px-4",children:e.jsx("span",{className:"sr-only",children:"Edit"})})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-700 bg-zinc-900",children:n&&n.data.map(s=>e.jsxs("tr",{className:"group hover:bg-zinc-800",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("input",{type:"checkbox",className:"rounded-md",onChange:z=>{z.target.checked?r([...a,s.id]):r(a.filter(k=>k!==s.id))}})}),e.jsx("td",{className:"px-4 py-4 ",children:e.jsx("span",{className:"text-sm font-medium text-zinc-400",children:s.name})}),e.jsx("td",{className:"px-4 py-4 ",children:e.jsxs("span",{className:"text-sm font-medium text-zinc-400",children:[s.size," KB"]})}),e.jsx("td",{className:"px-4 py-4 ",children:e.jsx("span",{className:"text-sm font-medium text-zinc-400",children:s.path})}),e.jsx("td",{className:"px-4 py-4 ",children:e.jsx("span",{className:"text-sm font-medium text-zinc-400",children:s.created_at_human})}),e.jsx("td",{className:"px-4 py-4 text-sm whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("a",{download:!0,href:"/storage/"+s.path+"/"+s.name,className:"bg-zinc-800 group-hover:bg-zinc-900 p-1 rounded-lg border border-transparent hover:border-green-500 faster-animation",children:e.jsx(f,{className:"w-6 h-6 text-green-500"})}),e.jsx("button",{className:"bg-zinc-800 group-hover:bg-zinc-900 p-1 rounded-lg border border-transparent hover:border-red-500 faster-animation",onClick:()=>b(s),children:e.jsx(i,{className:"w-6 h-6 text-red-500"})})]})})]},s.id))})]})]}),e.jsx(C,{links:n.meta}),e.jsx(p,{maxWidth:"md",show:y,onClose:o,className:"p-10",children:c&&e.jsxs("div",{className:"p-4 flex flex-col space-y-4",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-800 text-center",children:c.name}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Chystáš se smazat repozitář společně se všemi databázemi a klienty. Tato akce je nevratná."}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs(u,{type:"submit",onClick:v,children:[e.jsx(i,{className:"w-6 h-6 mr-2"}),c.name]}),e.jsx(j,{onClick:o,children:"Zavřít"})]})]})}),e.jsx(p,{maxWidth:"md",show:N,onClose:o,className:"p-10",children:e.jsxs("div",{className:"p-4 flex flex-col space-y-4",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-800 text-center",children:"Hodláš se smazat vybrané databáze"}),e.jsxs("div",{className:"my-4 space-y-1 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Chystáš se smazat vybrané databáze. Tato akce je nevratná."}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Celkem se smaže ",e.jsx("span",{className:"font-bold text-lg mx-1",children:a.length})," databází"]})]}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs(u,{type:"submit",onClick:w,children:[e.jsx(i,{className:"w-6 h-6 mr-2"}),"Hodit do koše"]}),e.jsx(j,{onClick:o,children:"Zavřít"})]})]})})]})}export{F as default};
