import{r as a,j as e,y as m}from"./app-riCWXvfZ.js";import{D as i}from"./Dropdown--HUqtH9J.js";import{P as k}from"./Pagination-e8eX7PwV.js";import{M as h,D as p,S as u}from"./SecondaryButton-QfKgXJyY.js";import{T as c}from"./TrashIcon-0MajjOU3.js";import"./transition-72wCfAA7.js";function C({title:n,titleId:s,...r},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},r),n?a.createElement("title",{id:s},n):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const D=a.forwardRef(C),j=D;function S({title:n,titleId:s,...r},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},r),n?a.createElement("title",{id:s},n):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9.75 14.25 12m0 0 2.25 2.25M14.25 12l2.25-2.25M14.25 12 12 14.25m-2.58 4.92-6.374-6.375a1.125 1.125 0 0 1 0-1.59L9.42 4.83c.21-.211.497-.33.795-.33H19.5a2.25 2.25 0 0 1 2.25 2.25v10.5a2.25 2.25 0 0 1-2.25 2.25h-9.284c-.298 0-.585-.119-.795-.33Z"}))}const M=a.forwardRef(S),B=M;function W({database_backups:n}){const[s,r]=a.useState([]),[l,f]=a.useState(null),[g,d]=a.useState(!1),[y,x]=a.useState(!1),b=t=>{f(t),d(!0)},o=()=>{d(!1),x(!1)},N=()=>{let t=route("databases.destroy",l.id);m.delete(t,{preserveScroll:!0,onSuccess:()=>o()})},v=()=>{let t=route("databases.bulk.destroy",{databases:s});m.delete(t,{preserveScroll:!0,onSuccess:()=>{o(),r([])}})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-10 border-4 border-zinc-900 divide-y rounded-lg divide-zinc-800 ",children:[s.length>0&&e.jsx("div",{className:"fixed right-10 bottom-10",children:e.jsxs(i,{children:[e.jsx(i.Trigger,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"py-3 px-5 rounded-xl bg-zinc-900 text-white",children:s.length}),e.jsx("div",{className:"group inline-flex rounded-xl bg-sky-500 ",children:e.jsx("button",{type:"button",className:"px-6 py-3 rounded-md focus:outline-none",children:e.jsx("span",{className:"leading-4 font-medium text-white text-lg group-hover:text-sky-100 transition ease-in-out duration-150",children:"Vybráno"})})})]})}),e.jsxs(i.Content,{direction:"up",children:[e.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-start text-sm leading-5 text-zinc-400 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out hover:bg-zinc-800 border-l-4 border-transparent hover:border-red-500 hover:text-red-500",onClick:()=>x(!0),children:[e.jsx("span",{className:"mr-2",children:e.jsx(c,{className:"w-6 h-6"})}),"Smazat"]}),e.jsxs("a",{className:"flex items-center w-full px-4 py-2 text-start text-sm leading-5 text-zinc-400 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out hover:bg-zinc-800 border-l-4 border-transparent hover:border-green-500 hover:text-green-500",href:route("databases.bulk.download",{databases:s}),children:[e.jsx("span",{className:"mr-2 ",children:e.jsx(j,{className:"w-6 h-6"})}),"Stáhnout"]}),e.jsxs("button",{className:"border-l-4 border-transparent hover:border-blue-500 hover:text-blue-500 flex items-center w-full px-4 py-2 text-start text-sm leading-5 text-zinc-500 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out",href:route("profile.edit"),onClick:()=>r([]),children:[e.jsx("span",{className:"mr-2",children:e.jsx(B,{className:"w-6 h-6"})}),"Odznačit vše"]})]})]})}),e.jsxs("table",{className:"min-w-full divide-y divide-zinc-700 rounded-md overflow-hidden",children:[e.jsx("thead",{className:"bg-zinc-950",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left text-zinc-400",children:"Bulk actions"}),e.jsx("th",{scope:"col",className:"px-12 py-3.5 text-sm font-normal text-left text-zinc-400",children:"Název"}),e.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left text-zinc-400",children:"Velikost"}),e.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left text-zinc-400",children:"Cesta"}),e.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left text-zinc-400",children:"Vytvořeno"}),e.jsx("th",{scope:"col",className:"relative py-3.5 px-4",children:e.jsx("span",{className:"sr-only",children:"Edit"})})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-700 bg-zinc-900",children:n&&n.data.map(t=>e.jsxs("tr",{className:"group hover:bg-zinc-800",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("input",{type:"checkbox",className:"rounded-md",onChange:w=>{w.target.checked?r([...s,t.id]):r(s.filter(z=>z!==t.id))}})}),e.jsx("td",{className:"px-4 py-4 ",children:e.jsx("span",{className:"text-sm font-medium text-zinc-400",children:t.name})}),e.jsx("td",{className:"px-4 py-4 ",children:e.jsxs("span",{className:"text-sm font-medium text-zinc-400",children:[t.size," KB"]})}),e.jsx("td",{className:"px-4 py-4 ",children:e.jsx("span",{className:"text-sm font-medium text-zinc-400",children:t.path})}),e.jsx("td",{className:"px-4 py-4 ",children:e.jsx("span",{className:"text-sm font-medium text-zinc-400",children:t.created_at_human})}),e.jsx("td",{className:"px-4 py-4 text-sm whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("a",{download:!0,href:"/storage/"+t.path+"/"+t.name,className:"bg-zinc-800 group-hover:bg-zinc-900 p-1 rounded-lg border border-transparent hover:border-green-500 faster-animation",children:e.jsx(j,{className:"w-6 h-6 text-green-500"})}),e.jsx("button",{className:"bg-zinc-800 group-hover:bg-zinc-900 p-1 rounded-lg border border-transparent hover:border-red-500 faster-animation",onClick:()=>b(t),children:e.jsx(c,{className:"w-6 h-6 text-red-500"})})]})})]},t.id))})]})]}),e.jsx(k,{links:n.meta}),e.jsx(h,{maxWidth:"md",show:g,onClose:o,className:"p-10",children:l&&e.jsxs("div",{className:"p-4 flex flex-col space-y-4",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-800 text-center",children:l.name}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Chystáš se smazat repozitář společně se všemi databázemi a klienty. Tato akce je nevratná."}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs(p,{type:"submit",onClick:N,children:[e.jsx(c,{className:"w-6 h-6 mr-2"}),l.name]}),e.jsx(u,{onClick:o,children:"Zavřít"})]})]})}),e.jsx(h,{maxWidth:"md",show:y,onClose:o,className:"p-10",children:e.jsxs("div",{className:"p-4 flex flex-col space-y-4",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-800 text-center",children:"Smazat vybrané databáze"}),e.jsxs("div",{className:"my-4 space-y-1 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Chystáš se smazat vybrané databáze. Tato akce je nevratná."}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Celkem se smaže ",e.jsx("span",{className:"font-bold text-lg mx-1",children:s.length})," databází."]})]}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs(p,{type:"submit",onClick:v,children:[e.jsx(c,{className:"w-6 h-6 mr-2"}),"Hodit do koše"]}),e.jsx(u,{onClick:o,children:"Zavřít"})]})]})})]})}export{W as default};
